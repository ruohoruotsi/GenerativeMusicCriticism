<!DOCTYPE HTML>
<!--
	Based on Halcyonic 3.1 by HTML5 UP html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

	<head>
		<title>ruoho reviews</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<script src="js/jquery.min.js"></script>
		<script src="js/config.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-panels.min.js"></script>

		<noscript>
			<link rel="stylesheet" href="css/skel-noscript.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
	</head>
	
	<body>		
		<script src="src/rita_dict.js" type="text/javascript"></script>
		<script src="src/rita.js" type="text/javascript"></script>
		<script src="src/ruoho_reviews.js" type="text/javascript"></script>
		<script src="src/jquery.echonest.js" type="text/javascript"></script>
		

		<script type="text/javascript">

		//////////////////////////////////////////////////////////////////////////////////
		// A Context-Free grammar for Generative Music Criticism by iroro 
		// V0.1 2009.11.06 (Processing, unreleased)
		// V0.2 2013.01.15 (Javascript)
		//
		//////////////////////////////////////////////////////////////////////////////////

		// RiTa.p5Compatible(1);
		var reviewRiGrammar, labelyearRiGrammar;
		var echonest; 
		var currentArtist, hotttartists = [];
		var numArtists = 50;
		
		var cachedArtistList = ['Moby', 'Donna Summer', 'Robbie Williams', 
								'Pet Shop Boys', 'Prince', 'Sly and the Family Stone',
								'David Bowie', 'Marvin Gaye', 'Aretha Franklin', 
								'Juan Atkins', 'Michael Jackson', 'Stevie Wonder', 
								'Led Zeppelin', 'Pink Floyd', 'Rihanna', 'Tina Turner',
								'Johnny Hallyday', 'Gloria Estefan', 'Tupac Shakur', 
								'Depeche Mode', 'Björk', 'Daft Punk', 'Aphex Twin', 
								'Prodigy', 'Gold Chains', 'Kraftwerk', 'Massive Attack',
								'DJ Shadow', 'Radiohead', 'The Orb', 'Jean-Michel Jarre',
								'Röyksopp', 'LCD Soundsystem', 'Faithless', 'Ruoho Ruotsi',
								'Ratatat', 'Postal Service', 'Wilco', 'The Avett Brothers',
								'Tangerine Dream', 'Leftfield', 'Frivolous', 'Basement Jaxx',
								'Boards of Canada', 'Amon Tobin', 'Glitch Mob', 
								'Hollis P. Monroe', 'Frankie Knuckles', 'Francois K',
								'Trentemøller', 'Chelonis R. Jones', 'Steve Bug', 
								'Lawrence', 'Jimpster', 'Jeff Samuel', 'Ian Pooley',
								'Omar-S', 'Luomo', 'Kerri Chandler', 'Charles Webster',
								'Roy Davis Jr.', 'Robert Owens', 'Cajmere feat. Dajae',
								'Black Science Orchestra', 'Mr. Fingers', 'Saint Etienne,',
								'Masters at Work', 'Theo Parrish', 'Moodymann', 
								'Pepe Bradock', 'Chez N Trent', 'Basic Channel', 
								'Rhythm & Sound', 'Roman Flügel', 'Joe Lewis', 'DJ Said', 
								'Recloose', 'Kate Simko', 'Aschka', 'Ikonika', 
								'Maya Jane Coles'];
								
		var cachedAlbumList = ['Back with Homework', 'Greatest Hits (1999-2009)', 'The Lighter Side', 
								'Dirty Twerking', 'Let\'s Talk', 'Dirty Little Pills',
								'Afternoon Delighting', 'Cali Music Boxen', 'Gough & Franklin', 
								'The Will', 'My Heart', 'Californication', 'Good', 'Super Theory',
								'Sexy Chicas Locas', 'Off Probation', 'Milking Me Softly', 
								'Give Me My Flowers', 'Against The World', 'Blunted', 
								'Sweating The Techniques', 'Runaways', '909s & Heartache', 
								'No Free Rides', 'Tripping on Bath Salts', 'Lies & Counterfeit',
								'Uprightly Minded', 'Sub Bass Theory', 'Liquid Swords',
								'Licensed In Chill', 'Twice Removed From Today',
								'For Mars Above', 'Bridge of Sighs', 'City of Tears',
								'Caravan To The Edge', 'Midnight On The Edge', 'A Hate Supreme',
								'Karma Island', 'Crimson Edge', 'Who Came Next', 
								'Highway 101', 'Aeros Over The Sea', 'Miami Calling',
								'After Tonight', 'Crazy Horse', 'This is Nowhere', 
								'Under A Groove', 'Down Stroke', 'Clone Soul', 
								'Millions of Rubbers', 'Miseducation Banquet', 'Beggars Hill',
								'Sticky Changes', 'Exile on Wall St.', 'Closing Time',
								'Elevation', 'More Songs About Rabbits', 'Cosmic Rising',
								'Silently Ashen', 'Here Comes The Warm Light', 
								'Your Seduction', 'Closer Now', 'Oceanview', 'Just A Day',
								'Aurora Borealis', 'Things Fall Apart Again', 'The Return',
								'Unquestionable Doubt', 'Freedom Jazz', 'Postively Leptokurtic',
								'Bramble Brambles', 'Dolores Tristes', 'Brilliant Deafness',
								'Unified Fires', 'Astral Minds', 'Being Here', 'Vulgar Ambulance',
								'Shut The F**k Up', 'Trout Face Paranoia', 'Toys From The Destruction',
								'Pure Grit', 'Conveniently Dead', 'Fear Of Weasel Flesh',
								'The Goodfinger Chronicles', 'My White Keyboard', 'Indigo',
								'Ghost In The Club'];
											
								
		// setup mouse-handling
		window.onload = setup;
		window.onmouseup = mouseClicked;

		//////////////////////////////////////////////////////////////////////////////////
		function setup()
		{
			// Setup The echonest
			echonest = new EchoNest("2VN1LKJEQUBPUKXEC"); // API key
			
			// What artists are currently "hottt" (Should return a hotttnesss but doesn't)
			echonest.artist().top_hottt( function(topHotttCollection) {
				hotttartists = topHotttCollection.data.artists;			
			}, {results: numArtists});

			getHotttArtists();
			getCurrentArtistImage();

			reviewRiGrammar = new RiGrammar(reviewGrammar);
			labelyearRiGrammar = new RiGrammar(labelYearGrammar);
			
			mouseClicked();
			console.log("Setup completed");
		}


		//////////////////////////////////////////////////////////////////////////////////
		function mouseClicked()
		{
			var aReview = reviewRiGrammar.expand();
			var labelyear = labelyearRiGrammar.expand();
			// console.log(aReview);
			
			// Populate html elements
			document.getElementById("ruohoreviews").innerHTML = aReview;
			document.getElementById("reviewSubtitle").innerHTML = labelyear;
			
			getHotttRating();
			getCurrentArtist();
			getCurrentArtistImage();
			getAlbumName();
		}

		//////////////////////////////////////////////////////////////////////////////////
		function getHotttArtists() // get a random Hottt artist
		{	
			if(hotttartists.length == 0) {

				var rand = Math.floor((Math.random()*80));
				currentArtist = cachedArtistList[rand];
				return currentArtist;

			} else {
			
				// console.log(hotttartists.length);
				var rand = Math.floor((Math.random()*numArtists));
				currentArtist = hotttartists[rand].name;
				return currentArtist;
			}
		}

		
		//////////////////////////////////////////////////////////////////////////////////
 		function getHotttRating() // get a random Hottt artist rating
 		{	 
 			document.getElementById("ruohorating").innerHTML = 
 				"Ruoho Rating:  &nbsp;&nbsp;" + 
 				Math.floor((Math.random()*100)) + 
 				"." + 
 				Math.floor((Math.random()*10));
 		}

 		
		//////////////////////////////////////////////////////////////////////////////////
 		function getCurrentArtist() // get current artist
 		{	 
 			document.getElementById("reviewArtist").innerHTML = currentArtist;
 		}


		//////////////////////////////////////////////////////////////////////////////////
		function getCurrentArtistImage() 
		{
			// get a set of "Radiohead" artist images and output as a bunch of images to the page (limited to first five results)
			echonest.artist(currentArtist).images( function(imageCollection) {
				document.getElementById("artistImages").src = imageCollection.data.images[0].url;
				console.log(imageCollection.data.images[0].url);
			}, {results: 1});
		}
		
		//////////////////////////////////////////////////////////////////////////////////
		function getAlbumName() 
		{
			// console.log(cachedAlbumList.length);
			var rand = Math.floor((Math.random()*87));
			document.getElementById("reviewTitle").innerHTML = cachedAlbumList[rand];
		}
		


		</script>


		<!-- Header -->
			<div id="header-wrapper">
				<header id="header" class="container">
					<div class="row">
						<div class="12u">

							<!-- Logo -->
								<h1><a href="#" id="logo">ruoho reviews</a></h1>
							
							<!-- Nav -->
								<nav id="nav">
								</nav>

						</div>
					</div>
				</header>
			</div>

		<!-- Content -->
			<div id="content-wrapper">
				<div id="content">
					<div class="container">
						<div class="row">
							<div class="3u">
								
								<!-- Sidebar -->
									<section>
										<header>
											<h2 id="reviewArtist" style="font-size: 30pt;">Artist</h2>
										</header>
										<img id="artistImages" src="nothing.jpg" width="200"/>

										<ul class="link-list">
											<li>Artist Link:</li>
											<li>Shop @:</li>
										</ul>
									</section>
									<section>
											<p id="ruohorating" style="font-size: 24pt;">
									</section>

							</div>
							<div class="9u skel-cell-important">
								
								<!-- Main Content -->
									<section>
										<header>
											<h2 id="reviewTitle">Album Title</h2>
											<h3 id="reviewSubtitle">Label and year</h3>
										</header>
										<p id="ruohoreviews" style="font-size: 24pt;"></p>
									</section>

							</div>
						</div>
					</div>
				</div>
			</div>

		<!-- Footer -->
			<div id="footer-wrapper">
				<footer id="footer" class="container">
					<div class="row">
						<div class="8u">
						
							<!-- Links -->
									<h2>About Ruoho Reviews</h2>
												<p>
												As a label manager <a href="http://twitter.com/defchildmusic">@defchildmusic</a>, 
												<a href="http://defchild.com/artists/">Ruoho Ruotsi</a> wrote copy for artist profiles, 
												featured releases, promo reviews, tweets, onesheets, 
												blog posts & online commentary, amassing a prodigious collection of musical phrases,
												idiomatic expressions and colourful constructions.
												 
												<br/>These reviews are fashioned using Ruoho's custom 
												<a href="http://en.wikipedia.org/wiki/Context-free_grammar">context-free grammar</a> 
												(<a href="https://github.com/dhowe/RiTa/">RiTa</a>) and "hottt" artist <a href="http://developer.echonest.com/docs/v4/artist.html#top-hottt">charts</a> 
												are pulled down in realtime from <a href="http://developer.echonest.com">The Echo Nest</a>. 
												Ruoho hopes these reviews will suggest new musical vistas, creative possibilities, artist 
												collaborations and perhaps garner a few chuckles. </p>
												
												For entertainment purposes only.						
						</div>
						<div class="4u">
							
							<!-- Blurb -->
								<section>
									<h2>   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Socialize</h2>
									
									<ul class="icons">
										<li><a class="fa fa-twitter solo" href="http://twitter.com/ruohoreviews"><span>Twitter</span></a></li>
										<li><a class="fa fa-youtube solo" href="http://youtube.com/ruohoreviews"><span>Youtube</span></a></li>
										<li><a class="fa fa-github solo" href="http://github.com/ruohoruotsi"><span>LinkedIn</span></a></li>
									</ul>
								</section>
				
						</div>
					</div>
				</footer>
			</div>

		<!-- Copyright -->
			<div id="copyright">
				&copy; 2013-2014 iroro orife. &nbsp;All rights reserved. &nbsp;|&nbsp; Design: <a href="http://html5up.net">HTML5 UP</a>
			</div>


	</body>
</html>